---
import Layout from "../../layouts/Layout.astro";
import { dateFormatter } from "../../utils/dateFormatter.mjs";
import PageHeader from "../../components/PageHeader.astro";

const allPosts = Object.values(import.meta.glob("./*.md", { eager: true }));
const pageTitle = "Writing";
const heading = "Writing";
const description =
  "This is where I will post about my journey learning Astro.";
---

<Layout pageTitle={pageTitle}>
  <div class="wrapper">
    <PageHeader heading={heading} description={description} />
    {
      allPosts.map((post: any) => (
        <article class="border" data-wrapper-type="inner">
          <div class="prose flow">
            <h2>
              <a href={post.url}>{post.frontmatter.title}</a>
            </h2>
            <div>
              <small>{dateFormatter(post.frontmatter.pubDate)}</small> |
              <small>{post.frontmatter.category}</small>
            </div>
          </div>
        </article>
      ))
    }
  </div>
</Layout>
